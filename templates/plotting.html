<!DOCTYPE html>
<html>
<head>
    <title>Plotting</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1 class="title">Plotting Interface</h1>
        <form id="plot-form" class="plot-form" action="/plotting" method="post" target="plot-frame">
            <div class="form-group">
                <label for="x">X values (comma separated):</label>
                <input type="text" id="x" name="x" value="1,2,3,4">
            </div>
            <div class="form-group">
                <label for="y">Y values (comma separated):</label>
                <input type="text" id="y" name="y" value="1,4,9,16">
            </div>
            <div class="form-group">
                <label for="x_label">X label:</label>
                <input type="text" id="x_label" name="x_label" value="x">
            </div>
            <div class="form-group">
                <label for="y_label">Y label:</label>
                <input type="text" id="y_label" name="y_label" value="y">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn primary">Plot</button>
                <button type="button" id="download-btn" class="btn secondary">Download Plot</button>
            </div>
        </form>
        <iframe name="plot-frame" class="plot-frame"></iframe>
        <form action="/" method="get" class="back-form">
            <button type="submit" class="btn">Back to Homepage</button>
        </form>
    </div>
    <script>
        document.getElementById('download-btn').onclick = function() {
            const x = encodeURIComponent(document.getElementById('x').value);
            const y = encodeURIComponent(document.getElementById('y').value);
            const x_label = encodeURIComponent(document.getElementById('x_label').value);
            const y_label = encodeURIComponent(document.getElementById('y_label').value);
            window.location.href = `/plotting?x=${x}&y=${y}&x_label=${x_label}&y_label=${y_label}&download=1`;
        };
    </script>
</body>
</html>
